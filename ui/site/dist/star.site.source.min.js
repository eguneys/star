!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Star=e()}}(function(){return function a(i,c,s){function u(n,e){if(!c[n]){if(!i[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}var r=c[n]={exports:{}};i[n][0].call(r.exports,function(e){return u(i[n][1][e]||e)},r,r.exports,a,i,c,s)}return c[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)u(s[e]);return u}({1:[function(e,n,t){"use strict";e("./standalones/util"),e("./standalones/trans"),e("./socket2"),e("./main")},{"./main":2,"./socket2":3,"./standalones/trans":4,"./standalones/util":5}],2:[function(e,n,t){},{}],3:[function(e,n,t){"use strict";var o;star.StrongSocket=function(t,o,r){function n(){M(),h=!0;var e=$.param(r.params);!1!==o&&(e+=(e?"&":"")+"v="+o);var n=l.protocol+"//"+N()+t+"?"+e;I("connection attempt to "+n);try{(c=new WebSocket(n)).onerror=function(e){O(e)},c.onclose=function(e){h&&(I("Will autoreconnect in "+l.autoReconnectDelay),w(l.autoReconectDelay))},c.onopen=function(){I("connected to "+n),C(),$("body").removeClass("offline").addClass("online"),b(),f.resend()},c.onmessage=function(e){if(0!==e.data){var n=JSON.parse(e.data);"n"===n.t&&x(),"b"===n.t?n.d.forEach(T):T(n)}else x()}}catch(e){O(e)}w(l.pingMaxLag)}function a(e){clearTimeout(i),i=setTimeout(b,e)}var c,i,s,u=Date.now,l=(r=$.extend(!0,{},star.StrongSocket.defaults,r)).options,f=function(t){var o=1,r=[];function e(){var n=Date.now()-2500;r.forEach(function(e){e.at<n&&t(e.t,e.d)})}return setInterval(e,1e3),{resend:e,register:function(e,n){n.a=o++,r.push({t:e,d:n,at:Date.now()})},gotAck:function(n){r=r.filter(function(e){return e.d.a!==n})}}}(function(e,n){k(e,n)}),d=u(),m=0,g=0,p=0,v=!1,h=!0,e=0,y=star.storage.make("surl6"),k=function n(t,e,o,r){o=o||{};var a={t:t};void 0!==e&&(o.withLag&&(e.l=Math.round(g)),0<=o.millis&&(e.s=Math.round(.1*o.millis).toString(36)),a.d=e),o.ackable&&(a.d=a.d||{},f.register(t,a.d));var i=JSON.stringify(a);I("send "+i);try{c.send(i)}catch(e){r||setTimeout(function(){n(t,a.d,o,!0)},1e3)}},w=function(e){l.idle&&(e=1e4+10*Math.random()*1e3),clearTimeout(i),clearTimeout(s),s=setTimeout(function(){$("body").addClass("offline").removeClass("online"),v=!0,n()},e)},b=function(){clearTimeout(i),clearTimeout(s);var e=l.isAuth&&m%8==2?JSON.stringify({t:"p",l:Math.round(.1*g),v:o}):null;try{c.send(e),d=u()}catch(e){I(e,!0)}p<l.pingMaxTries?(p++,a(S())):(p=0,w(l.pingMaxLag))},S=function(){return l.pingDelay+(l.idle?1e3:0)},x=function(){clearTimeout(s),a(S());var e=Math.min(u()-d,1e4);g+=(4<++m?.1:1/m)*(e-g)},T=function(e){if(e.v){if(e.v<=o)return void I("already has event "+e.v);if(e.v>o+1)return void star.reload();o=e.v}switch(e.t||!1){case!1:break;case"resync":star.reload();break;case"ack":f.gotAck(e.d);break;default:!(r.receive&&r.receive(e.t,e.d))&&r.events[e.t]&&r.events[e.t](e.d||null,e)}},I=function(e,n){(n||l.debug)&&console.debug("["+l.name+" "+r.params.sri+"]",e)},M=function(){clearTimeout(i),clearTimeout(s),D(),c=null},D=function(e){c&&(I("Disconnect"),h=!1,c.onerror=c.onclose=c.onopen=c.onmessage=$.noop,c.close()),e&&(l.onNextConnect=e)},O=function(e){l.debug=!0,I("error: "+JSON.stringify(e)),v=!0,clearTimeout(i)},C=function(){1===++e&&l.onFirstConnect()},N=function(){var e=l.baseUrls,n=y.get();return n?v&&(v=!1,n=e[(e.indexOf(n)+1)%e.length],y.set(n)):(n=e[0],y.set(n)),n};return n(),window.addEventListener("unload",M),{connect:n,disconnect:D,send:k,destroy:M,options:l,pingInterval:function(){return S()+g},averageLag:function(){return g},getVersion:function(){return o}}},star.StrongSocket.sri=Math.random().toString(36).slice(2,12),star.StrongSocket.defaults={events:{},params:{sri:star.StrongSocket.sri},options:{name:"unnamed",idle:!1,pingMaxLag:9e3,pingMaxTries:5,pingDelay:2500,autoReconnectDelay:3500,protocol:"https:"===location.protocol?"wss:":"ws:",baseUrls:(o=document.body.getAttribute("data-socket-domain"),[o].concat(("socket.oyunkeyf.net"===o||"socket.o.com"===o?[1,2]:[]).map(function(e){return o+":"+(9020+e)}))),onFirstConnect:$.noop}}},{}],4:[function(e,n,t){"use strict";star.trans=function(t){function e(e){var n=t[e];return n?function(n,e){if(e.length&&n.includes("$s"))for(var t=1;t<4;t++)n=n.replace("%"+t+"$s",e[t-1]);return e.forEach(function(e){n=n.replace("%s",e)}),n}(n,Array.prototype.slice.call(arguments,1)):e}return e.noarg=function(e){return t[e]||e},e.vdom=function(e){var n=t[e];return n?function(e,n){for(var t=e.split(/(%(?:\d\$)?s)/g),o=1;o<=n.length;o++)-1!==(r=t.indexOf("%"+o+"$s"))&&(t[r]=n[o-1]);for(o=0;o<n.length;o++){var r;if(-1===(r=t.indexOf("%s")))break;t[r]=n[o]}return t}(n,Array.prototype.slice.call(arguments,1)):[e]},e}},{}],5:[function(e,n,t){"use strict";var o,r,a;window.star=window.star||{},star.storage=(o=window.localStorage,r={get:function(e){return o.getItem(e)},set:function(e,n){o.setItem(e,n)},remove:function(e){o.removeItem(e)},make:function(t){return{get:function(){return r.get(t)},set:function(e){r.set(t,e)},remove:function(){r.remove(t)},listen:function(n){window.addEventListener("storage",function(e){e.key===t&&e.storageArea===o&&null!==e.newValue&&n(e)})}}}}),star.numberFormat=(a=!1,function(e){return!1===a&&(a=window.Intl&&Intl.NumberFormat?new Intl.NumberFormat:null),null===a?e:a.format(e)}),star.hasToReload=!1,star.redirectInProgress=!1,star.redirect=function(e){var n;if("string"==typeof e)n=e;else if(n=e.url,e.cookie){var t=document.domain.replace(/^.+(\.[^\.]+\.[^\.]+)$/,"$1"),o=[encodeURIComponent(e.cookie.name)+"="+e.cookie.value,"; max-age="+e.cookie.maxAge,"; path=/","; domain="+t].join("");document.cookie=o}var r="//"+location.host+"/"+n.replace(/^\//,"");star.redirectInProgress=r,location.href=r},star.reload=function(){star.redirectInProgress||(star.hasToReload=!0,location.hash?location.reload():location.href=location.href)}},{}]},{},[1])(1)});